"use strict";(self.webpackChunkmccoy_dewitt_client=self.webpackChunkmccoy_dewitt_client||[]).push([[379],{7810:function(e,t,i){i.d(t,{Z:function(){return d}});i(2791);var s=i(3360),n=i(5316),r=i(9743),l=i(2677),o=i(2609),a=i(6426),c=i(184);function d(e){var t=e.confirmationInfo,i=e.setShowConfirmation,d=e.showConfirmation,x=e.handleRemove,u=e.primaryColor,p=t.title,m=t._id,h=function(){return i(!1)};return(0,c.jsxs)(n.Z,{show:d,onHide:h,children:[(0,c.jsx)(n.Z.Header,{closeButton:!0,children:(0,c.jsx)(n.Z.Title,{children:p})}),(0,c.jsx)(n.Z.Body,{style:{display:"flex",margin:"auto",justifyContent:"center"},children:(0,c.jsxs)(r.Z,{children:[(0,c.jsx)(l.Z,{className:"m-4",children:(0,c.jsxs)(s.Z,{style:{width:"150px",borderColor:u},variant:"light",onClick:h,children:[(0,c.jsx)("span",{className:"m-3",children:"No"}),(0,c.jsx)(o.Z,{width:15,height:15})]})}),(0,c.jsx)(l.Z,{className:"m-4",children:(0,c.jsxs)(s.Z,{style:{width:"150px"},variant:"danger",onClick:function(){x(m),h()},children:[(0,c.jsx)("span",{className:"m-3",children:"Yes"}),(0,c.jsx)(a.Z,{width:15,height:15})]})})]})}),(0,c.jsx)(n.Z.Footer,{children:(0,c.jsx)(s.Z,{variant:"secondary",onClick:h,children:"Close"})})]})}},379:function(e,t,i){i.r(t),i.d(t,{default:function(){return H}});var s=i(1413),n=i(4942),r=i(885),l=i(2791),o=i(2576),a=i(9140),c=i(3360),d=i(8322),x=i(9743),u=i(2677),p=i(5736),m=i(7798),h=i(8213),j=i(7689),Z=i(2428),y=i(2398),f=i(9907),g=i(7702),v=i(1961),C=i(4543),N=i(2109),b=i(6973),w=i(4401),S=i(5443),T=i(9083),k=i(3600),I=i(8227),z=i(9762),W=i(5671),_=i(3144),L=i(136),D=i(4104),F=i(9053),B=i(6666),O=i.n(B),G=i(184),P=function(e){(0,L.Z)(i,e);var t=(0,D.Z)(i);function i(){return(0,W.Z)(this,i),t.apply(this,arguments)}return(0,_.Z)(i,[{key:"myWidget",value:function(){var e=this,t=O()(),i=window.cloudinary.createUploadWidget({prepareUploadParams:function(e,i){e({public_id:t})},cloudName:"dcrbfhcxx",uploadPreset:"xeyoxyah",sources:["local","url"],folder:this.props.project_id,maxImageWidth:2e3},(function(t,i){!t&&i&&"success"===i.event&&(console.log("Done! Here is the image info: ",i.info),e.props.handleUpdateFiles(i.info.public_id),console.log(i),document.getElementById("uploadedimage").setAttribute("src",i.info.secure_url))}));i.open()}},{key:"render",value:function(){var e=this;return(0,G.jsx)(m.Z,{placement:"right",delay:{show:250,hide:400},overlay:this.props.renderTooltip("Add Images"),children:(0,G.jsx)(F.Z,{onClick:function(){return e.myWidget()},style:{color:"green",cursor:"pointer",marginLeft:"20px"}})})}}]),i}(l.Component),R=P,E=i(9136),U=i(7810),q=i(8035);function H(e){var t,i=(0,j.TH)(),W=e.primaryColor,_=e.secondaryColor,L=e.admin,D=e.setSnackBarInfo,F=(0,l.useState)(i.state.selectedProject),B=(0,r.Z)(F,2),O=B[0],P=B[1],H=(0,l.useState)(i.state.selectedService),A=(0,r.Z)(H,2),Y=A[0],K=(A[1],(0,l.useState)(!1)),J=(0,r.Z)(K,2),M=J[0],Q=J[1],V=(0,l.useState)(!1),X=(0,r.Z)(V,2),$=X[0],ee=X[1],te=(0,l.useState)(!1),ie=(0,r.Z)(te,2),se=ie[0],ne=ie[1],re=(0,l.useState)(!1),le=(0,r.Z)(re,2),oe=le[0],ae=le[1],ce=(0,l.useState)({}),de=(0,r.Z)(ce,2),xe=de[0],ue=de[1],pe=(0,l.useState)({}),me=(0,r.Z)(pe,2),he=me[0],je=me[1],Ze=(0,l.useState)(!1),ye=(0,r.Z)(Ze,2),fe=ye[0],ge=ye[1],ve=(0,l.useState)({title:null,_id:null}),Ce=(0,r.Z)(ve,2),Ne=Ce[0],be=Ce[1],we={description:O.description,location:O.location,insuranceClaim:O.insuranceClaim,status:O.status,users:O.users},Se=function(){return null!==O.insuranceClaim.dateOfDamage?O.insuranceClaim.dateOfDamage.slice(0,10):"none"},Te=function(){return null!==O.insuranceClaim.dateOfInspection?O.insuranceClaim.dateOfInspection.slice(0,10):"none"};(0,l.useEffect)((function(){window.scrollTo(0,0),(0,q.e5)(P,Q,O._id)}),[]);var ke=function(){var e=O.description,t=O.location,i=O.status,s=!0,n={};return e&&""!==e&&" "!==e||(n.description="*required",s=!1),t||(n.location="*required",s=!1),i.title||(n.statusTitle="*required",s=!1),i.title||(n.statusDescription="*required",s=!1),je(n),s},Ie=function(e){return(0,G.jsx)(o.Z,{id:"button-tooltip",children:e})};return(0,G.jsxs)("div",{children:[fe&&(0,G.jsx)(U.Z,{setShowConfirmation:ge,showConfirmation:fe,confirmationInfo:Ne,handleRemove:function(e){(0,q.cG)(e,P,Q,O._id,D)},primaryColor:W}),(0,G.jsxs)("div",{style:{position:"relative"},children:[(0,G.jsx)("div",{className:"project-background"}),(0,G.jsx)(a.Z,{className:"projectTitleCard projectTitleCard m-auto",style:{borderColor:W},children:(0,G.jsx)("div",{className:"projectTitleCard-body",children:(0,G.jsxs)(a.Z.Title,{className:"m-auto text-center",style:{color:"white"},children:[O.service," Project"]})})}),(0,G.jsx)(h.Ee,{publicId:Y?Y.image:"custom",className:"projectImage projectImage"})]}),(0,G.jsxs)("div",{className:"mt-4 mb-5",style:{position:"relative"},children:[(0,G.jsx)("div",{style:(t={position:"-webkit-sticky"},(0,n.Z)(t,"position","sticky"),(0,n.Z)(t,"top","10px"),(0,n.Z)(t,"zIndex","1000"),t),children:M?(0,G.jsxs)("div",{className:"editPosition",children:[(0,G.jsx)(c.Z,{style:{backgroundColor:"green",width:"50px",marginRight:"10px"},onClick:function(){(0,q.ty)(ke,we,P,Q,O._id,D)},className:"projectEditButton",children:(0,G.jsx)(f.Z,{color:"white"})}),(0,G.jsx)(c.Z,{style:{backgroundColor:"red",color:"white",width:"50px"},onClick:function(){(0,q.e5)(P,Q,O._id)},className:"projectCancelButton",children:(0,G.jsx)(g.Z,{color:"white"})})]}):(0,G.jsx)(c.Z,{className:"editPosition",children:(0,G.jsx)("div",{className:"projectEditButton",children:(0,G.jsx)(Z.Z,{color:"black",as:y.Z,onClick:function(){return Q(!0)},style:{cursor:"pointer",width:"25px",height:"25px",color:_},id:"dropdown-basic"})})})}),(0,G.jsx)(a.Z,{className:"projectIntro projectIntro ml-auto",children:(0,G.jsxs)("div",{style:{marginRight:"45px"},children:[(0,G.jsxs)(a.Z.Title,{className:"project-overview",style:{fontSize:"21px",padding:"10px"},children:["Overview:",M?(0,G.jsx)(d.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,G.jsx)(d.Z.Group,{className:"m-1",children:(0,G.jsxs)("div",{style:{position:"relative"},children:[(0,G.jsx)(d.Z.Control,{type:"text",placeholder:"Overview",value:O.description,onChange:function(e){P((0,s.Z)((0,s.Z)({},O),{},{description:e.target.value})),he.description&&ke()}}),he.description&&(0,G.jsx)(z.Z,{message:he.description,type:"error",profile:!0})]})})}):(0,G.jsx)("div",{style:{fontSize:"15px",marginLeft:"30px",paddingTop:"5px"},children:O.description})]}),(0,G.jsx)("div",{style:{width:"fit-content",padding:"10px"},children:M&&L===localStorage.getItem("user")?(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(d.Z,{style:{width:"auto",maxWidth:"350px"},children:[(0,G.jsx)(d.Z.Group,{className:"m-1",children:(0,G.jsxs)("div",{style:{position:"relative"},children:[(0,G.jsx)(a.Z.Title,{children:"Status"}),(0,G.jsx)(d.Z.Control,{type:"text",placeholder:"Current Status",value:O.status.title,onChange:function(e){P((0,s.Z)((0,s.Z)({},O),{},{status:(0,s.Z)((0,s.Z)({},O.status),{},{title:e.target.value})}))}}),he.statusTitle&&(0,G.jsx)(z.Z,{message:he.statusTitle,type:"error",profile:!0})]})}),(0,G.jsx)(a.Z.Title,{children:"Status Description"}),(0,G.jsx)(d.Z.Group,{className:"m-1",children:(0,G.jsxs)("div",{style:{position:"relative"},children:[(0,G.jsx)(d.Z.Control,{type:"text",placeholder:"Description",value:O.status.description,onChange:function(e){P((0,s.Z)((0,s.Z)({},O),{},{status:(0,s.Z)((0,s.Z)({},O.status),{},{description:e.target.value})}))}}),he.statusDescription&&(0,G.jsx)(z.Z,{message:he.statusDescription,type:"error",profile:!0})]})})]}),(0,G.jsx)(x.Z,{className:"justify-content-center",children:["primary","secondary","success","danger","warning","info","dark"].map((function(e){return(0,G.jsx)(u.Z,{className:"m-2",style:{cursor:"pointer"},children:(0,G.jsx)(a.Z.Title,{style:e===O.status.color?{border:"2px solid black",borderRadius:"5px",padding:"5px"}:{border:"2px solid white",padding:"5px"},onClick:function(){P((0,s.Z)((0,s.Z)({},O),{},{status:(0,s.Z)((0,s.Z)({},O.status),{},{color:e})}))},children:(0,G.jsx)(p.Z,{style:{width:"100px",height:"30px",margin:"auto"},bg:e,children:(0,G.jsx)("span",{children:e})})})})}))})]}):(0,G.jsxs)(G.Fragment,{children:[(0,G.jsxs)(a.Z.Title,{className:"status",children:[(0,G.jsx)("span",{style:{marginRight:"5px"},children:"Status:"}),(0,G.jsx)(p.Z,{bg:O.status.color?O.status.color:"primary",className:"p-2",children:O.status.title})]}),(0,G.jsx)(a.Z.Title,{style:{fontSize:"15px",fontWeight:"200",marginLeft:"30px"},children:O.status.description})]})})]})}),(0,G.jsx)(a.Z,{style:{border:"none"},children:(0,G.jsxs)(x.Z,{className:"justify-content-center m-auto align-items-center",style:{maxWidth:"1000px"},children:[(0,G.jsxs)(u.Z,{className:"secondaryInfo-item",children:[(0,G.jsx)("label",{className:"secondaryInfo-label",children:(0,G.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,G.jsx)(v.Z,{className:"icons"}),"Project Key:"]})}),(0,G.jsxs)(a.Z.Title,{style:{fontSize:"17px",marginLeft:"50px",WebkitTextSecurity:"disc"},children:[O._id,(0,G.jsx)(m.Z,{placement:"bottom",delay:{show:250,hide:400},overlay:Ie($?"Copied":"Copy"),children:(0,G.jsx)(C.Z,{style:{marginLeft:"10px",marginBottom:"5px",width:"16px",height:"16px",cursor:"pointer"},onClick:function(){var e;e=O._id,navigator.clipboard.writeText(e),ee(!0)}})})]})]}),(0,G.jsxs)(u.Z,{className:"secondaryInfo-item",children:[(0,G.jsx)("label",{className:"secondaryInfo-label",children:(0,G.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,G.jsx)(N.Z,{className:"icons"}),"Location:"]})}),M?(0,G.jsx)(d.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,G.jsx)(d.Z.Group,{className:"m-1",children:(0,G.jsx)("div",{style:{position:"relative"},children:(0,G.jsx)(d.Z.Control,{type:"text",placeholder:"Overview",value:O.location,onChange:function(e){P((0,s.Z)((0,s.Z)({},O),{},{location:e.target.value}))}})})})}):(0,G.jsx)(a.Z.Title,{style:{fontSize:"17px",marginLeft:"50px"},children:O.location})]}),(0,G.jsxs)(u.Z,{className:"secondaryInfo-item",children:[(0,G.jsx)("label",{className:"secondaryInfo-label",children:(0,G.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,G.jsx)(b.Z,{className:"icons"}),"Users Involved:"]})}),(0,G.jsx)(x.Z,{className:"justify-content-center align-items-center",style:{fontSize:"17px",marginLeft:"50px"},children:O.users.map((function(e,t,i){return e===L?(0,G.jsx)("div",{}):(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(u.Z,{className:"m-1",children:(0,G.jsx)(a.Z.Title,{children:(0,G.jsx)(p.Z,{className:"p-2",bg:"secondary",children:e})})})})}))})]}),(0,G.jsxs)("div",{className:"secondaryInfo-item",children:[(0,G.jsx)("label",{className:"secondaryInfo-label",style:{display:"flex"},children:(0,G.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,G.jsx)(w.Z,{className:"icons"}),"Insurance Claim:"]})}),M&&(0,G.jsxs)("div",{style:{display:"flex",margin:"5px"},children:[(0,G.jsx)("div",{style:{fontSize:"15px",margin:"auto",textAlign:"center"},children:"Still using?"}),(0,G.jsx)(E.Z,{primaryColor:W,onClickFunction:function(){P((0,s.Z)((0,s.Z)({},O),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},O.insuranceClaim),{},{using:!0})}))},currentChoice:xe,setCurrentChoice:ue,text:"Yes",small:!0}),(0,G.jsx)(E.Z,{primaryColor:W,onClickFunction:function(){P((0,s.Z)((0,s.Z)({},O),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},O.insuranceClaim),{},{using:!1})}))},currentChoice:xe,setCurrentChoice:ue,text:"No",small:!0})]}),!0===O.insuranceClaim.using?(0,G.jsx)(G.Fragment,{children:(0,G.jsxs)("ul",{children:[(0,G.jsx)("li",{children:(0,G.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"20px"},children:"Claim Number:"})}),(0,G.jsx)("div",{children:M?(0,G.jsx)(d.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,G.jsx)(d.Z.Group,{className:"m-1",children:(0,G.jsxs)("div",{style:{position:"relative"},children:[(0,G.jsx)(d.Z.Control,{type:"text",placeholder:"Claim Number",value:O.insuranceClaim.claimNumber,style:oe?{WebkitTextSecurity:"none"}:{WebkitTextSecurity:"disc"},onChange:function(e){P((0,s.Z)((0,s.Z)({},O),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},O.insuranceClaim),{},{claimNumber:e.target.value})}))}}),(0,G.jsx)("div",{style:{position:"absolute",top:"10px",right:"20px"},children:oe?(0,G.jsx)(S.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return ae(!1)}}):(0,G.jsx)(T.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return ae(!0)}})})]})})}):(0,G.jsxs)("div",{style:{display:"flex"},children:[(0,G.jsx)(a.Z.Title,{className:"claimNumber",style:oe?{WebkitTextSecurity:"none",fontSize:"16px"}:{WebkitTextSecurity:"disc"},children:O.insuranceClaim.claimNumber}),oe?(0,G.jsx)(S.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return ae(!1)}}):(0,G.jsx)(T.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return ae(!0)}})]})}),(0,G.jsx)("li",{children:(0,G.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"20px"},children:"Date of damage done:"})}),M?(0,G.jsx)(d.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,G.jsx)(d.Z.Group,{className:"m-1",children:(0,G.jsx)("div",{style:{position:"relative"},children:(0,G.jsx)(d.Z.Control,{type:"date",value:Se(),onChange:function(e){P((0,s.Z)((0,s.Z)({},O),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},O.insuranceClaim),{},{dateOfDamage:e.target.value})}))}})})})}):(0,G.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"50px"},children:Se()}),(0,G.jsx)("li",{children:(0,G.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"20px"},children:"Date of inspection:"})}),M?(0,G.jsx)(d.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,G.jsx)(d.Z.Group,{className:"m-1",children:(0,G.jsx)("div",{style:{position:"relative"},children:(0,G.jsx)(d.Z.Control,{type:"date",value:Te(),onChange:function(e){P((0,s.Z)((0,s.Z)({},O),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},O.insuranceClaim),{},{dateOfInspection:e.target.value})}))}})})})}):(0,G.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"50px"},children:Te()})]})}):(0,G.jsx)(a.Z.Title,{style:{fontSize:"17px",marginLeft:"50px"},children:"None"})]}),(0,G.jsx)("div",{style:{margin:"10px"},children:(0,G.jsxs)("label",{style:{display:"flex",justifyContent:"center",borderBottom:"1px solid ".concat(W),maxWidth:"350px",margin:"auto"},children:[(0,G.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,G.jsx)(k.Z,{className:"icons"}),"Images:"]}),se?(0,G.jsx)(G.Fragment,{children:(0,G.jsx)(f.Z,{onClick:function(){ne(!1)},style:{color:"green",cursor:"pointer",marginLeft:"17px",marginTop:"3px"}})}):(0,G.jsxs)("div",{style:{display:"flex",paddingTop:"2px"},children:[(0,G.jsx)(R,{renderTooltip:Ie,handleUpdateFiles:function(e){(0,q.Ot)(e,P,Q,O._id,D)}}),(0,G.jsx)(m.Z,{placement:"right",delay:{show:250,hide:400},overlay:Ie("Delete Images"),children:(0,G.jsx)(I.Z,{onClick:function(){return ne(!0)},style:{color:"red",cursor:"pointer",marginLeft:"80px"}})})]})]})})]})}),(0,G.jsx)(x.Z,{className:"justify-content-center",children:O.files.map((function(e){return(0,G.jsxs)(u.Z,{style:{display:"flex",flexDirection:"column",marginBottom:"10px"},children:[(0,G.jsx)(h.Ee,{publicId:e.name,style:{width:"200px",height:"200px",objectFit:"cover",margin:"auto"}}),se&&(0,G.jsx)(c.Z,{variant:"danger",style:{width:"200px",margin:"auto"},onClick:function(){ge(!0),be({title:"Remove this file?",_id:e.name})},children:"delete"})]})}))})]})]})}}}]);
//# sourceMappingURL=379.6f6c1a8e.chunk.js.map