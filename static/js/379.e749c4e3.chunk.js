"use strict";(self.webpackChunkmccoy_dewitt_client=self.webpackChunkmccoy_dewitt_client||[]).push([[379],{379:function(e,t,i){i.r(t),i.d(t,{default:function(){return A}});var s=i(1413),n=i(885),l=i(2791),r=i(2576),a=i(9140),c=i(8322),o=i(9743),d=i(2677),x=i(5736),u=i(7798),p=i(3360),m=i(8213),h=i(7689),j=i(2428),Z=i(2398),y=i(9907),f=i(7702),g=i(1961),v=i(4543),C=i(2109),N=i(6973),b=i(4401),S=i(5443),T=i(9083),w=i(3600),k=i(8227),I=i(9762),z=i(5671),W=i(3144),L=i(136),_=i(4104),F=i(9053),D=i(6666),O=i.n(D),B=i(184),G=function(e){(0,L.Z)(i,e);var t=(0,_.Z)(i);function i(){return(0,z.Z)(this,i),t.apply(this,arguments)}return(0,W.Z)(i,[{key:"myWidget",value:function(){var e=this,t=O()(),i=window.cloudinary.createUploadWidget({prepareUploadParams:function(e,i){e({public_id:t})},cloudName:"dcrbfhcxx",uploadPreset:"xeyoxyah",sources:["local","url"],folder:this.props.project_id,maxImageWidth:2e3},(function(t,i){!t&&i&&"success"===i.event&&(console.log("Done! Here is the image info: ",i.info),e.props.handleUpdateFiles(i.info.public_id),console.log(i),document.getElementById("uploadedimage").setAttribute("src",i.info.secure_url))}));i.open()}},{key:"render",value:function(){var e=this;return(0,B.jsx)(u.Z,{placement:"right",delay:{show:250,hide:400},overlay:this.props.renderTooltip("Add Images"),children:(0,B.jsx)(F.Z,{onClick:function(){return e.myWidget()},style:{color:"green",cursor:"pointer",marginLeft:"20px"}})})}}]),i}(l.Component),E=G,P=i(9136),U=i(8035);function A(e){var t=(0,h.TH)(),i=e.primaryColor,z=e.secondaryColor,W=e.admin,L=e.setSnackBarInfo,_=(0,l.useState)(t.state.selectedProject),F=(0,n.Z)(_,2),D=F[0],O=F[1],G=(0,l.useState)(t.state.selectedService),A=(0,n.Z)(G,2),R=A[0],q=(A[1],(0,l.useState)(!1)),H=(0,n.Z)(q,2),K=H[0],Y=H[1],J=(0,l.useState)(!1),M=(0,n.Z)(J,2),Q=M[0],V=M[1],X=(0,l.useState)(!1),$=(0,n.Z)(X,2),ee=$[0],te=$[1],ie=(0,l.useState)(!1),se=(0,n.Z)(ie,2),ne=se[0],le=se[1],re=(0,l.useState)({}),ae=(0,n.Z)(re,2),ce=ae[0],oe=ae[1],de=(0,l.useState)({}),xe=(0,n.Z)(de,2),ue=xe[0],pe=xe[1],me={description:D.description,location:D.location,insuranceClaim:D.insuranceClaim,status:D.status,users:D.users},he=function(){return null!==D.insuranceClaim.dateOfDamage?D.insuranceClaim.dateOfDamage.slice(0,10):"none"},je=function(){return null!==D.insuranceClaim.dateOfInspection?D.insuranceClaim.dateOfInspection.slice(0,10):"none"};(0,l.useEffect)((function(){window.scrollTo(0,0),(0,U.e5)(O,Y,D._id)}),[]);var Ze=function(){var e=D.description,t=D.location,i=!0,s={};return e&&""!==e&&" "!==e||(s.description="*required",i=!1),t||(s.location="*required",i=!1),pe(s),i},ye=function(e){return(0,B.jsx)(r.Z,{id:"button-tooltip",children:e})};return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)("div",{style:{position:"relative"},children:[(0,B.jsx)("div",{className:"project-background"}),(0,B.jsx)(a.Z,{className:"projectTitleCard projectTitleCard m-auto",style:{borderColor:i},children:(0,B.jsx)("div",{className:"projectTitleCard-body",children:(0,B.jsxs)(a.Z.Title,{className:"m-auto",style:{color:"white"},children:[D.service," Project"]})})}),(0,B.jsx)(m.Ee,{publicId:R.image,className:"projectImage projectImage"})]}),(0,B.jsxs)("div",{className:"mt-4 mb-5",children:[(0,B.jsxs)(a.Z,{className:"projectIntro projectIntro ml-auto",children:[K?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(y.Z,{onClick:function(){(0,U.ty)(Ze,me,O,Y,D._id,L)},className:"projectEditButton",style:{color:"green"}}),(0,B.jsx)(f.Z,{className:"projectCancelButton",onClick:function(){(0,U.e5)(O,Y,D._id)}})]}):(0,B.jsx)("div",{className:"projectEditButton",children:(0,B.jsx)(j.Z,{as:Z.Z,onClick:function(){return Y(!0)},style:{cursor:"pointer",width:"25px",height:"25px",color:z},id:"dropdown-basic"})}),(0,B.jsxs)("div",{style:{marginRight:"45px"},children:[(0,B.jsxs)(a.Z.Title,{className:"project-overview",style:{fontSize:"21px",padding:"10px"},children:["Overview:",K?(0,B.jsx)(c.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,B.jsx)(c.Z.Group,{className:"m-1",children:(0,B.jsxs)("div",{style:{position:"relative"},children:[(0,B.jsx)(c.Z.Control,{type:"text",placeholder:"Overview",value:D.description,onChange:function(e){O((0,s.Z)((0,s.Z)({},D),{},{description:e.target.value})),ue.description&&Ze()}}),ue.description&&(0,B.jsx)(I.Z,{message:ue.description,type:"error",profile:!0})]})})}):(0,B.jsx)("div",{style:{fontSize:"15px",marginLeft:"30px",paddingTop:"5px"},children:D.description})]}),(0,B.jsx)("div",{style:{width:"fit-content",padding:"10px"},children:K?(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(c.Z,{style:{width:"auto",maxWidth:"350px"},children:[(0,B.jsx)(c.Z.Group,{className:"m-1",children:(0,B.jsxs)("div",{style:{position:"relative"},children:[(0,B.jsx)("label",{children:"Status"}),(0,B.jsx)(c.Z.Control,{type:"text",placeholder:"Current Status",value:D.status.title,onChange:function(e){O((0,s.Z)((0,s.Z)({},D),{},{status:(0,s.Z)((0,s.Z)({},D.status),{},{title:e.target.value})}))}})]})}),(0,B.jsx)("label",{children:"Status Description"}),(0,B.jsx)(c.Z.Group,{className:"m-1",children:(0,B.jsx)("div",{style:{position:"relative"},children:(0,B.jsx)(c.Z.Control,{type:"text",placeholder:"Description",value:D.status.description,onChange:function(e){O((0,s.Z)((0,s.Z)({},D),{},{status:(0,s.Z)((0,s.Z)({},D.status),{},{description:e.target.value})}))}})})})]}),(0,B.jsx)(o.Z,{className:"justify-content-center",children:["primary","secondary","success","danger","warning","info","dark"].map((function(e){return(0,B.jsx)(d.Z,{className:"m-2",style:{cursor:"pointer"},children:(0,B.jsx)(a.Z.Title,{style:e===D.status.color?{border:"2px solid black",borderRadius:"5px",padding:"5px"}:{},onClick:function(){O((0,s.Z)((0,s.Z)({},D),{},{status:(0,s.Z)((0,s.Z)({},D.status),{},{color:e})}))},children:(0,B.jsx)(x.Z,{bg:e,children:(0,B.jsx)("span",{children:e})})})})}))})]}):(0,B.jsxs)(B.Fragment,{children:[(0,B.jsxs)(a.Z.Title,{className:"status",children:[(0,B.jsx)("span",{style:{marginRight:"5px"},children:"Status:"}),(0,B.jsx)(x.Z,{bg:D.status.color?D.status.color:"primary",className:"p-2",children:D.status.title})]}),(0,B.jsx)(a.Z.Title,{style:{fontSize:"15px",fontWeight:"200",marginLeft:"30px"},children:D.status.description})]})})]})]}),(0,B.jsx)(a.Z,{style:(window.innerWidth,{border:"none"}),children:(0,B.jsxs)(o.Z,{className:"justify-content-center m-auto align-items-center",style:{maxWidth:"1000px"},children:[(0,B.jsxs)(d.Z,{className:"secondaryInfo-item",children:[(0,B.jsx)("label",{className:"secondaryInfo-label",children:(0,B.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,B.jsx)(g.Z,{className:"icons"}),"Project Key:"]})}),(0,B.jsxs)(a.Z.Title,{style:{fontSize:"17px",marginLeft:"50px",WebkitTextSecurity:"disc"},children:[D._id,(0,B.jsx)(u.Z,{placement:"bottom",delay:{show:250,hide:400},overlay:ye(Q?"Copied":"Copy"),children:(0,B.jsx)(v.Z,{style:{marginLeft:"10px",marginBottom:"5px",width:"16px",height:"16px",cursor:"pointer"},onClick:function(){var e;e=D._id,navigator.clipboard.writeText(e),V(!0)}})})]})]}),(0,B.jsxs)(d.Z,{className:"secondaryInfo-item",children:[(0,B.jsx)("label",{className:"secondaryInfo-label",children:(0,B.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,B.jsx)(C.Z,{className:"icons"}),"Location:"]})}),K?(0,B.jsx)(c.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,B.jsx)(c.Z.Group,{className:"m-1",children:(0,B.jsx)("div",{style:{position:"relative"},children:(0,B.jsx)(c.Z.Control,{type:"text",placeholder:"Overview",value:D.location,onChange:function(e){O((0,s.Z)((0,s.Z)({},D),{},{location:e.target.value}))}})})})}):(0,B.jsx)(a.Z.Title,{style:{fontSize:"17px",marginLeft:"50px"},children:D.location})]}),(0,B.jsxs)(d.Z,{className:"secondaryInfo-item",children:[(0,B.jsx)("label",{className:"secondaryInfo-label",children:(0,B.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,B.jsx)(N.Z,{className:"icons"}),"Users Involved:"]})}),(0,B.jsx)(o.Z,{className:"justify-content-center align-items-center",style:{fontSize:"17px",marginLeft:"50px"},children:D.users.map((function(e,t,i){return e===W?(0,B.jsx)("div",{}):(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(d.Z,{className:"m-1",children:(0,B.jsx)(a.Z.Title,{children:(0,B.jsx)(x.Z,{className:"p-2",bg:"secondary",children:e})})})})}))})]}),(0,B.jsxs)("div",{className:"secondaryInfo-item",children:[(0,B.jsx)("label",{className:"secondaryInfo-label",style:{display:"flex"},children:(0,B.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,B.jsx)(b.Z,{className:"icons"}),"Insurance Claim:"]})}),K&&(0,B.jsxs)("div",{style:{display:"flex",margin:"5px"},children:[(0,B.jsx)("div",{style:{fontSize:"15px",margin:"auto",textAlign:"center"},children:"Still using?"}),(0,B.jsx)(P.Z,{primaryColor:i,onClickFunction:function(){O((0,s.Z)((0,s.Z)({},D),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},D.insuranceClaim),{},{using:!0})}))},currentChoice:ce,setCurrentChoice:oe,text:"Yes",small:!0}),(0,B.jsx)(P.Z,{primaryColor:i,onClickFunction:function(){O((0,s.Z)((0,s.Z)({},D),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},D.insuranceClaim),{},{using:!1})}))},currentChoice:ce,setCurrentChoice:oe,text:"No",small:!0})]}),!0===D.insuranceClaim.using?(0,B.jsx)(B.Fragment,{children:(0,B.jsxs)("ul",{children:[(0,B.jsx)("li",{children:(0,B.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"20px"},children:"Claim Number:"})}),(0,B.jsx)("div",{children:K?(0,B.jsx)(c.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,B.jsx)(c.Z.Group,{className:"m-1",children:(0,B.jsxs)("div",{style:{position:"relative"},children:[(0,B.jsx)(c.Z.Control,{type:"text",placeholder:"Claim Number",value:D.insuranceClaim.claimNumber,style:ne?{WebkitTextSecurity:"none"}:{WebkitTextSecurity:"disc"},onChange:function(e){O((0,s.Z)((0,s.Z)({},D),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},D.insuranceClaim),{},{claimNumber:e.target.value})}))}}),(0,B.jsx)("div",{style:{position:"absolute",top:"10px",right:"20px"},children:ne?(0,B.jsx)(S.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return le(!1)}}):(0,B.jsx)(T.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return le(!0)}})})]})})}):(0,B.jsxs)("div",{style:{display:"flex"},children:[(0,B.jsx)(a.Z.Title,{className:"claimNumber",style:ne?{WebkitTextSecurity:"none",fontSize:"16px"}:{WebkitTextSecurity:"disc"},children:D.insuranceClaim.claimNumber}),ne?(0,B.jsx)(S.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return le(!1)}}):(0,B.jsx)(T.Z,{className:"icons",style:{cursor:"pointer"},onClick:function(){return le(!0)}})]})}),(0,B.jsx)("li",{children:(0,B.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"20px"},children:"Date of damage done:"})}),K?(0,B.jsx)(c.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,B.jsx)(c.Z.Group,{className:"m-1",children:(0,B.jsx)("div",{style:{position:"relative"},children:(0,B.jsx)(c.Z.Control,{type:"date",value:he(),onChange:function(e){O((0,s.Z)((0,s.Z)({},D),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},D.insuranceClaim),{},{dateOfDamage:e.target.value})}))}})})})}):(0,B.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"50px"},children:he()}),(0,B.jsx)("li",{children:(0,B.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"20px"},children:"Date of inspection:"})}),K?(0,B.jsx)(c.Z,{style:{width:"auto",maxWidth:"350px"},children:(0,B.jsx)(c.Z.Group,{className:"m-1",children:(0,B.jsx)("div",{style:{position:"relative"},children:(0,B.jsx)(c.Z.Control,{type:"date",value:je(),onChange:function(e){O((0,s.Z)((0,s.Z)({},D),{},{insuranceClaim:(0,s.Z)((0,s.Z)({},D.insuranceClaim),{},{dateOfInspection:e.target.value})}))}})})})}):(0,B.jsx)(a.Z.Title,{style:{fontSize:"16px",marginLeft:"50px"},children:je()})]})}):(0,B.jsx)(a.Z.Title,{style:{fontSize:"17px",marginLeft:"50px"},children:"None"})]}),(0,B.jsx)("div",{style:{margin:"10px"},children:(0,B.jsxs)("label",{style:{display:"flex",justifyContent:"center",borderBottom:"1px solid ".concat(i),maxWidth:"350px",margin:"auto"},children:[(0,B.jsxs)(a.Z.Title,{style:{fontSize:"20px"},children:[(0,B.jsx)(w.Z,{className:"icons"}),"Images:"]}),ee?(0,B.jsx)(B.Fragment,{children:(0,B.jsx)(y.Z,{onClick:function(){te(!1)},style:{color:"green",cursor:"pointer",marginLeft:"17px",marginTop:"3px"}})}):(0,B.jsxs)("div",{style:{display:"flex",paddingTop:"2px"},children:[(0,B.jsx)(E,{renderTooltip:ye,handleUpdateFiles:function(e){(0,U.Ot)(e,O,Y,D._id,L)}}),(0,B.jsx)(u.Z,{placement:"right",delay:{show:250,hide:400},overlay:ye("Delete Images"),children:(0,B.jsx)(k.Z,{onClick:function(){return te(!0)},style:{color:"red",cursor:"pointer",marginLeft:"80px"}})})]})]})})]})}),(0,B.jsx)(o.Z,{className:"justify-content-center",children:D.files.map((function(e){return(0,B.jsxs)(d.Z,{style:{display:"flex",flexDirection:"column",marginBottom:"10px"},children:[(0,B.jsx)(m.Ee,{publicId:e.name,style:{width:"200px",height:"200px",objectFit:"cover",margin:"auto"}}),ee&&(0,B.jsx)(p.Z,{variant:"danger",style:{width:"200px",margin:"auto"},onClick:function(){!function(e){(0,U.cG)(e,O,Y,D._id,L)}(e.name)},children:"delete"})]})}))})]})]})}}}]);
//# sourceMappingURL=379.e749c4e3.chunk.js.map